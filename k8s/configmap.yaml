apiVersion: v1
kind: ConfigMap
metadata:
  name: url-shortener-config
  namespace: default
data:
  # GCP Configuration
  GCP_PROJECT_ID: "url-shortener-479913"
  GCS_BUCKET_NAME: "url-shortener-assets"
  
  # Database Configuration (non-sensitive)
  DB_HOST: "10.142.0.15"  # MySQL VM internal IP
  DB_PORT: "3306"
  DB_DATABASE: "urlshortener"
  
  # Application Configuration
  FLASK_ENV: "production"
  
  # Connection Pool Configuration
  # Optimize for high load: 1000+ concurrent users
  DB_POOL_MIN_SIZE: "5"   # Minimum connections per pod
  DB_POOL_MAX_SIZE: "20"  # Maximum connections per pod (2 pods x 20 = 40 max connections)
  
  # Cloud Function Configuration (optional)
  USE_CLOUD_FUNCTION_REDIRECT: "true"
  CLOUD_FUNCTION_REDIRECT_URL: "https://us-east1-url-shortener-479913.cloudfunctions.net/url-redirect"

